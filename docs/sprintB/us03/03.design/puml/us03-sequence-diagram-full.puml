@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

autonumber

'hide footbox

actor "Human Resource Manager" as HRM
participant ":CreateEmployeelUI" as UI
participant ":CreateEmployeelController" as controller
participant "repositories\n:Repositories" as rep
participant "JobRepository:\nEmployeeRepository" as jobRep
participant ":Organization" as org
participant ":Employee" as Employee



activate HRM

        HRM -> UI : asks to register a new employee

        activate UI
            'create controller
            UI -> controller** : create

            activate controller

                controller-> rep : getInstance()

                activate org

                    rep --> controller : instance



                controller -> org : Employees()




                    org --> controller : employees
                    deactivate org
                    controller --> Employee : createEmployee()
                    activate Employee

                    Employee --> controller : Employee()

                    deactivate Employee
                    deactivate controller





            'requests the HRM to input data
            UI --> HRM : requestData (name, birthDate, admissionDate, adress, email, mobile, docIdType, docIdNum, TaxPayerNum)
        deactivate UI

        HRM -> UI : types requested data

        activate UI

            UI --> UI : validateEmployeeData(name, birthDate, admissionDate, adress, email, mobile, docIdType, docIdNum, TaxPayerNum)
        activate org
            UI --> controller : asks for a list of jobs


            activate controller

            controller --> rep : getAllJobs()

            org --> controller : jobs

            deactivate org

            controller --> UI : Jobs()

            UI --> HRM : shows list of jobs and asks to select one

            HRM -> UI : selects job
            controller --> UI : Employee()
           UI -> controller : createEmployee(name, birthDate, admissionDate, adress, email, mobile, docIdType, docIdNum, TaxPayerNum)

                   deactivate UI




                controller -> Employee : Employee(name, birthDate, admissionDate, adress, email, mobile, docIdType, docIdNum, TaxPayerNum)

                activate Employee

                Employee --> controller : newEmployee

                deactivate Employee

                controller -> org : add(newEmployee)

                activate org

                    org -> org : validateEmployee(newEmployee)

                    org --> controller : newEmployee

                deactivate org

            controller --> UI : newEmployee


        deactivate controller
        activate UI
         UI -> HRM : displays success operation

     deactivate UI

deactivate HRM

@enduml